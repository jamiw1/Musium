<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Musium.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Musium.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:tk="using:CommunityToolkit.WinUI.Controls"
    xmlns:services="using:Musium.Services"
    mc:Ignorable="d">

    <StackPanel Padding="16" MaxWidth="1200" Spacing="32">
        <TextBlock FontSize="20" FontWeight="SemiBold" Text="Settings"/>

        <StackPanel Spacing="8">
            <TextBlock FontSize="14" FontWeight="SemiBold" Text="Library"/>
            <tk:SettingsCard 
                Header="Libary location"
                Description="The directory in which Musium scans for music">
                <tk:SettingsCard.HeaderIcon>
                    <SymbolIcon Symbol="Folder"/>
                </tk:SettingsCard.HeaderIcon>
                <tk:SettingsCard.Content>
                    <StackPanel Orientation="Horizontal" Spacing="16">
                        <TextBlock Text="{x:Bind services:SettingsService.Instance.LibraryPath, Mode=OneWay}" VerticalAlignment="Center" MaxWidth="400"/>
                        <Button Content="Browse" Click="LibraryPathSetting_Click"/>
                    </StackPanel>
                </tk:SettingsCard.Content>
            </tk:SettingsCard>
            <tk:SettingsCard 
                Header="Rescan library"
                Description="Rescan your library folder for new music">
                <tk:SettingsCard.HeaderIcon>
                    <SymbolIcon Symbol="SyncFolder"/>
                </tk:SettingsCard.HeaderIcon>
                <tk:SettingsCard.Content>
                    <Button Content="Rescan" Click="RescanLibrarySetting_Click"/>
                </tk:SettingsCard.Content>

            </tk:SettingsCard>
        </StackPanel>

        <StackPanel Spacing="8">
            <TextBlock FontSize="14" FontWeight="SemiBold" Text="About"/>
            <tk:SettingsExpander
                Header="Musium"
                Description="Musium 2025, made with &#x003C;3 by jamiw and contributors on GitHub">
                <tk:SettingsExpander.HeaderIcon>
                    <ImageIcon Source="/Assets/Icon.ico"/>
                </tk:SettingsExpander.HeaderIcon>
                <tk:SettingsExpander.Content>
                    <TextBlock FontSize="14" Text="v0.2.0.1"/>
                </tk:SettingsExpander.Content>
                <tk:SettingsExpander.Items>
                    <tk:SettingsCard Header="Credits" HorizontalContentAlignment="Left" ContentAlignment="Vertical">
                        <TextBlock Text="logo by GattoDev"/>
                    </tk:SettingsCard>
                    <tk:SettingsCard Header="Links" HorizontalContentAlignment="Left" ContentAlignment="Vertical">
                        <HyperlinkButton NavigateUri="https://github.com/jamiw1/Musium" Content="GitHub repository"/>
                    </tk:SettingsCard>
                </tk:SettingsExpander.Items>
            </tk:SettingsExpander>
        </StackPanel>
    </StackPanel>
</Page>
