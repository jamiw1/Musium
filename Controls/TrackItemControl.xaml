<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Musium.Controls.TrackItemControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Musium.Controls"
    xmlns:converters="using:Musium.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <UserControl.Resources>
        <converters:GetLosslessGlyph x:Key="converters:GetLosslessGlyph" />
        <converters:DurationConverter x:Key="converters:DurationConverter" />
    </UserControl.Resources>

    <Button Background="Transparent"
        BorderThickness="0"
        Padding="6,6,16,6"
        HorizontalAlignment="Stretch"
        HorizontalContentAlignment="Stretch"
            Click="Button_Click">

        <Grid VerticalAlignment="Center" HorizontalAlignment="Stretch" ColumnSpacing="32">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0" CornerRadius="4" Height="48" Width="48" Margin="0,0,-16,0">
                <Image Source="{x:Bind DisplayedCoverArt, Mode=OneWay, TargetNullValue='/Assets/Placeholder.png'}"/>
            </Grid>

            <StackPanel Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Center">
                <TextBlock Text="{x:Bind Song.Title, Mode=OneWay, TargetNullValue='Title'}" FontSize="16" VerticalAlignment="Center" TextTrimming="WordEllipsis"/>
                <TextBlock Text="{x:Bind Song.Album.Artist.Name, Mode=OneWay, TargetNullValue='Artist'}" VerticalAlignment="Center" TextTrimming="WordEllipsis"/>
            </StackPanel>

            <TextBlock Grid.Column="2" Text="{x:Bind Song.Album.Title, Mode=OneWay, TargetNullValue='Album'}" VerticalAlignment="Center" HorizontalAlignment="Left" TextTrimming="WordEllipsis"/>
            <TextBlock Grid.Column="3" Text="{x:Bind Song.Genre, Mode=OneWay, TargetNullValue=''}" VerticalAlignment="Center" HorizontalAlignment="Left" TextTrimming="WordEllipsis"/>

            <FontIcon Grid.Column="4" Glyph="{x:Bind Song.Lossless, Mode=OneWay, Converter={StaticResource converters:GetLosslessGlyph}}" VerticalAlignment="Center" HorizontalAlignment="Right"/>
            <TextBlock Grid.Column="5" Text="{x:Bind Song.Duration, Mode=OneWay, Converter={StaticResource converters:DurationConverter}}" VerticalAlignment="Center" HorizontalAlignment="Right" TextTrimming="WordEllipsis"/>
        </Grid>
    </Button>
</UserControl>
